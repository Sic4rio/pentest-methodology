# Mapping Attack Surface
- Put all targets into `targets.txt` and generate nmap files:
```
nmap -oA nmap-out -sV -p- -vv -iL targets.txt
```

- Put nmap output into Metasploit
```
# create a new workspace
workspace -a <target name>

# import the file
db_import nmap-out.xml

# view 5060 and 2000 to see if they are legit (they probably are not)
services -p 5060,2000

# delete them
services -p 5060,2000 -d
```

- Create a list of all URLS that accept logons
    - Consult Spiderfoot from OSINT phase


# Scan Web Ports
- Use Metasploit's dir_scanner with the imported nmap results
```
msfconsole
spool dir-scanner.txt
use auxiliary/scanner/http/dir_scanner
set DICTIONARY /opt/SecLists/Discovery/Web-Content/common.txt

services -u -p 80 --rhosts
set rport 80
set ssl false
run

services -u -p 443 --rhosts
set rport 443
set ssl true
run

# repeat for other web ports (8443, 8080, etc)
```

# AD Password Spray
- Leverage usernames from OSINT stage
- Use lyncsmash, Metasploit OWA, or other tools depending on what systems are available
